tau.mashups.addModule("CustomUnitColoredCustomField/config", [
    {
        "name": "Favorite Fruit",
        "colors": {
            "Apple": "red",
            "Pear": "#00ff00",
            "Plum": "rgb(128, 0, 128)"
        }
    },
    {
        "name": "Your Corps",
        "colors": {
            "Green Lanterns": "green",
            "Red Lanterns": "#ff0000",
            "Sinestro Corps": "rgb(255, 255, 0)"
        }
    }
]);
!function(){var e={},t=function(){var t,n,r,o=Array.prototype.slice.call(arguments,0);"string"==typeof o[0]?(r=o[0],t=o[1],n=o[2]):Array.isArray(o[0])&&(t=o[0],n=o[1]);var a=t.reduce(function(e,t){return e.addDependency(t)},tau.mashups);return a=a.addDependency(r+"/config"),a=a.addMashup(function(){var o=Array.prototype.slice.call(arguments,0);if(t.length>0&&1===o.length)throw new Error("Can't properly load dependencies for mashup \""+r+'", mashup is stopped.');return e.variables=o[o.length-1],o.length-t.length===2?e.config=o[o.length-2]:e.config={},Object.freeze&&(Object.freeze(e.variables),Object.freeze(e.config),Object.freeze(e)),n.apply(null,o)})};t("CustomUnitColoredCustomField",["tau/configurator","jQuery","Underscore","tau/models/board.customize.units/const.entity.types.names","tau/models/board.customize.units/const.card.sizes"],function(t,n,r,o,a){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n.p=e.variables?e.variables.mashupPath:n.p,n(0)}([function(e,t,n){e.exports=n(2)},,function(t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var a=r(3),u=o(a),s=r(8),i=o(s),c=r(6),l=o(c),d=r(12),f=o(d),p=e.config,g=u["default"].customUnits,m=function(e,t){var n,r=i["default"].findWhere(t.customFields,{name:e.name});return r&&(n=e.colors[r.value]),n},v=function(e,t){var n,r=i["default"].findWhere(t.customFields,{name:e.name});return r&&(n=r.value),n},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],y=function(e){return isNaN(e)?"00":h[(e-e%16)/16]+h[e%16]},b=function(e){return e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),y(e[1])+y(e[2])+y(e[3])},x=function(e,t){if("#"===e[0]&&(e=e.slice(1)),!e.match(/^[0-9a-f]+$/i)){var n=l["default"]("<span />").css("color",e).css("color");e=b(n)}var r=parseInt(e,16),o=r>>16,a=r>>8&255,u=255&r,s=1-t+o/255*t,i=1-t+a/255*t,c=1-t+u/255*t;return"rgb("+[Math.ceil(255*s),Math.ceil(255*i),Math.ceil(255*c)].join(", ")+")"};p.forEach(function(e){var t=e.name;g.add({name:t,id:"colored_custom_field_"+i["default"].underscored(t),hideIf:function(t){return!v(e,t.customValues)},template:{markup:[f["default"]],customFunctions:{getColor:m.bind(null,e),getBackgroundColor:function(t){var n=m(e,t);return n?x(n,.3):""},getValue:v.bind(null,e)}},sampleData:{customValues:{customFields:[{name:"Favorite Fruit",value:"Apple"}]}},model:"customValues:CustomValues"})})},function(e,t,n){"use strict";var r=n(4),o=n(7),a=n(9);e.exports={addBusListener:o.addBusListener,addBusListenerOnce:o.addBusListenerOnce,getAppConfigurator:r.getAppConfigurator,configurator:r,events:o,customUnits:a}},function(e,t,n){"use strict";var r=n(5),o=n(6),a=new o.Deferred;r.getGlobalBus().once("configurator.ready",function(e,t){a.resolve(t)});var u=function(){return a.promise()};e.exports={getAppConfigurator:u}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var r=n(5),o=n(8),a=r.getBusRegistry(),u=function(e){return function(){e.apply(null,o.rest(o.toArray(arguments)))}},s=function(e,t,n,r){a.on("create",u(function(o){var a=o.bus;a.name===e&&a[r?"once":"on"](t,n)})),a.on("destroy",u(function(r){var o=r.bus;o.name===e&&o.removeListener(t,n)}))},i=function(e,t,n){s(e,t,n,!0)};e.exports={addBusListener:s,addBusListenerOnce:i}},function(e,t){e.exports=r},function(e,t,n){"use strict";var r=n(8),o=n(10),a=n(11),u=n(4),s=function(e){return e=r.defaults({},e,{types:[o.BUG,o.BUILD,o.EPIC,o.FEATURE,o.IMPEDIMENT,o.ITERATION,o.PROGRAM,o.PROJECT,o.RELEASE,o.REQUEST,o.TASK,o.TEAM_ITERATION,o.TEST_CASE,o.TEST_PLAN,o.TEST_PLAN_RUN,o.STORY],sizes:[a.XS,a.S,a.M,a.L,a.XL,a.LIST]}),u.getAppConfigurator().then(function(t){var n=t.getUnitsRegistry();r.extend(n.units,n.register([e]))})};e.exports={types:o,sizes:a,add:s}},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){e.exports='<div class="tau-board-unit__value">\n    <span class="tau-entity-icon"\n        style="color: <%= fn.getColor(this.data.customValues) %>; background-color: <%= fn.getBackgroundColor(this.data.customValues) %>; text-transform: none;">\n        <%= fn.getValue(this.data.customValues) %>\n    </span>\n</div>\n'}])})}();
